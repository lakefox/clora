var q=Object.defineProperty;var c=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var m=(a,t,l)=>t in a?q(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,v=(a,t)=>{for(var l in t||(t={}))M.call(t,l)&&m(a,l,t[l]);if(c)for(var l of c(t))E.call(t,l)&&m(a,l,t[l]);return a};import{S as R,i as k,s as F,e as H,c as P,a as W,d as T,b as _,g as I,E as g,v as L,R as N}from"../chunks/index-c4979612.js";function V(a){let t;return{c(){t=H("canvas"),this.h()},l(l){t=P(l,"CANVAS",{id:!0,class:!0}),W(t).forEach(T),this.h()},h(){_(t,"id","canvas"),_(t,"class","svelte-5tod0y")},m(l,e){I(l,t,e),a[2](t)},p:g,i:g,o:g,d(l){l&&T(t),a[2](null)}}}let p=20,h=20,o=3,S=5,w=5;function y(a,t,l,e,r,i=5,b=!1,u=!0){typeof i=="number"?i={tl:i,tr:i,br:i,bl:i}:i=v({tl:0,tr:0,br:0,bl:0},i),a.beginPath(),a.moveTo(t+i.tl,l),a.lineTo(t+e-i.tr,l),a.quadraticCurveTo(t+e,l,t+e,l+i.tr),a.lineTo(t+e,l+r-i.br),a.quadraticCurveTo(t+e,l+r,t+e-i.br,l+r),a.lineTo(t+i.bl,l+r),a.quadraticCurveTo(t,l+r,t,l+r-i.bl),a.lineTo(t,l+i.tl),a.quadraticCurveTo(t,l,t+i.tl,l),a.closePath(),b&&a.fill(),u&&a.stroke()}function A(a,t,l,e){let r=a.fillStyle,i=a.font;a.save(),t.forEach(({text:b,fillStyle:u,font:n})=>{a.fillStyle=u||r,a.font=n||i,a.fillText(b,l,e),l+=a.measureText(b).width}),a.restore()}function j(a,t,l){let{data:e}=t,r,i=0,b=0;L(()=>{let n=r.getContext("2d");n.font="18px Arial";for(let f=0;f<e.data.length;f++){const d=e.data[f];let s=n.measureText(d.label+` [${e.width*e.height}] `).width;f<e.height?s>i&&(i=s+o):s>b&&(b=s+o)}console.log(i),l(0,r.width=e.width*p+o*e.width+i+b,r),l(0,r.height=e.height*h+o*e.height,r),n.width=e.width*p+o*e.width+i+b,n.height=e.height*h+o*e.height;for(let f=0;f<e.width*e.height;f++){let d=parseInt(f/e.height),s=f-e.height*d;if(console.log(d*p+o,s*h+o),n.fillStyle="#212121",y(n,d*p+o*d+i,o+(s*h+o*s),p,h,3,!0),n.fillStyle="#eeeeee",y(n,d*p+o*d+(p-S)/2+i,o+(s*h+o*s+(h-w)/2),S,w,3,!0),n.fillStyle="#bbb",n.font="18px Arial",d==0){if(typeof e.data[f]!="undefined"&&typeof e.data[f].label!="undefined"){let C=n.measureText(e.data[f].label+` [${e.data[f].pin}] `).width;A(n,[{text:e.data[f].label,fillStyle:"#bbb",font:"18px Arial"},{text:` [${e.data[f].pin}] `,fillStyle:"#c2af8e",font:"bold 18px Arial"}],i-C,h-o+(s*h+o*s))}}else d==1&&typeof e.data[f]!="undefined"&&typeof e.data[f].label!="undefined"&&(n.measureText(e.data[f].label+` [${e.data[f].pin}] `).width,A(n,[{text:` [${e.data[f].pin}] `,fillStyle:"#c2af8e",font:"bold 18px Arial"},{text:e.data[f].label,fillStyle:"#bbb",font:"18px Arial"}],i+e.width*p+o,h-o+(s*h+o*s)))}});function u(n){N[n?"unshift":"push"](()=>{r=n,l(0,r)})}return a.$$set=n=>{"data"in n&&l(1,e=n.data)},[r,e,u]}class D extends R{constructor(t){super(),k(this,t,j,V,F,{data:1})}}export{D as default};
