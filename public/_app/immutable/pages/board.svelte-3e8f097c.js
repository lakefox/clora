var wl=Object.defineProperty;var xe=Object.getOwnPropertySymbols;var yl=Object.prototype.hasOwnProperty,El=Object.prototype.propertyIsEnumerable;var el=(t,e,l)=>e in t?wl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,ll=(t,e)=>{for(var l in e||(e={}))yl.call(e,l)&&el(t,l,e[l]);if(xe)for(var l of xe(e))El.call(e,l)&&el(t,l,e[l]);return t};import{S as pl,i as ml,s as _e,e as b,c as g,a as k,d as h,b as c,g as $,E as oe,v as Il,K as Vl,w as ae,k as y,x as se,m as E,y as ie,J as d,L as U,q as I,o as T,B as ne,t as H,h as j,M as Dl,N as tl,O as z,p as pe,l as ee,P as ve,j as Tl,Q as bl,R as gl,n as me,T as $l}from"../chunks/index-8c2c5986.js";import{u as x,H as Ne,M as Nl}from"../chunks/data-9409bda5.js";function Pl(t){let e;return{c(){e=b("canvas"),this.h()},l(l){e=g(l,"CANVAS",{id:!0,class:!0}),k(e).forEach(h),this.h()},h(){c(e,"id","canvas"),c(e,"class","svelte-18ilsbo")},m(l,a){$(l,e,a),t[4](e)},p:oe,i:oe,o:oe,d(l){l&&h(e),t[4](null)}}}let te=20,q=20,D=3,al=5,sl=5;function il(t,e,l,a,i,s=5,n=!1,_=!0){typeof s=="number"?s={tl:s,tr:s,br:s,bl:s}:s=ll({tl:0,tr:0,br:0,bl:0},s),t.beginPath(),t.moveTo(e+s.tl,l),t.lineTo(e+a-s.tr,l),t.quadraticCurveTo(e+a,l,e+a,l+s.tr),t.lineTo(e+a,l+i-s.br),t.quadraticCurveTo(e+a,l+i,e+a-s.br,l+i),t.lineTo(e+s.bl,l+i),t.quadraticCurveTo(e,l+i,e,l+i-s.bl),t.lineTo(e,l+s.tl),t.quadraticCurveTo(e,l,e+s.tl,l),t.closePath(),n&&t.fill(),_&&t.stroke()}function nl(t,e,l,a){let i=t.fillStyle,s=t.font;t.save(),e.forEach(({text:n,fillStyle:_,font:v})=>{t.fillStyle=_||i,t.font=v||s,t.fillText(n,l,a),l+=t.measureText(n).width}),t.restore()}function Sl(t,e,l){let{data:a}=e,{pinX:i}=e,{pinY:s}=e;console.log(a);let n,_=0,v=0;Il(()=>{let r=n.getContext("2d");r.font="18px Arial";for(let o=0;o<a.data.length;o++){const f=a.data[o];let m=r.measureText(f.label+` [${a.width*a.height}] `).width;o<a.height?m>_&&(_=m+D):m>v&&(v=m+D)}l(0,n.width=a.width*te+D*a.width+_+v,n),l(0,n.height=a.height*q+D*a.height,n),r.width=a.width*te+D*a.width+_+v,r.height=a.height*q+D*a.height;for(let o=0;o<a.width*a.height;o++){let f=parseInt(o/a.height),m=o-a.height*f;r.fillStyle="#212121",il(r,f*te+D*f+_,D+(m*q+D*m),te,q,3,!0),r.fillStyle="#eeeeee",il(r,f*te+D*f+(te-al)/2+_,D+(m*q+D*m+(q-sl)/2),al,sl,3,!0),r.fillStyle="#bbb",r.font="18px Arial";let N="#bbb";if(typeof i!="undefined"&&typeof s!="undefined"&&i==f&&s==m&&(N="#212121"),f==0){if(typeof a.data[o]!="undefined"&&typeof a.data[o].label!="undefined"){let w=r.measureText(a.data[o].label+` [${a.data[o].pin}] `).width;nl(r,[{text:a.data[o].label,fillStyle:N,font:"18px Arial"},{text:` [${a.data[o].pin}] `,fillStyle:"#c2af8e",font:"bold 18px Arial"}],_-w,q-D+(m*q+D*m))}}else f==1&&typeof a.data[o]!="undefined"&&typeof a.data[o].label!="undefined"&&(r.measureText(a.data[o].label+` [${a.data[o].pin}] `).width,nl(r,[{text:` [${a.data[o].pin}] `,fillStyle:"#c2af8e",font:"bold 18px Arial"},{text:a.data[o].label,fillStyle:N,font:"18px Arial"}],_+a.width*te+D,q-D+(m*q+D*m)))}});function u(r){Vl[r?"unshift":"push"](()=>{n=r,l(0,n)})}return t.$$set=r=>{"data"in r&&l(1,a=r.data),"pinX"in r&&l(2,i=r.pinX),"pinY"in r&&l(3,s=r.pinY)},[n,a,i,s,u]}class kl extends pl{constructor(e){super(),ml(this,e,Sl,Pl,_e,{data:1,pinX:2,pinY:3})}}function ol(t,e,l){const a=t.slice();return a[19]=e[l],a[20]=e,a[21]=l,a}function rl(t,e,l){const a=t.slice();return a[22]=e[l],a[24]=l,a}function fl(t){let e,l,a,i,s,n,_,v,u;l=new Ne({props:{color:"#212121",size:"small",value:t[22].name}}),s=new kl({props:{data:t[0].boards[t[24]]}});function r(){return t[12](t[24])}return{c(){e=b("div"),ae(l.$$.fragment),a=y(),i=b("div"),ae(s.$$.fragment),n=y(),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=k(e);se(l.$$.fragment,f),a=E(f),i=g(f,"DIV",{class:!0});var m=k(i);se(s.$$.fragment,m),m.forEach(h),n=E(f),f.forEach(h),this.h()},h(){c(i,"class","canvasCont svelte-1me0i4o"),c(e,"class","box svelte-1me0i4o")},m(o,f){$(o,e,f),ie(l,e,null),d(e,a),d(e,i),ie(s,i,null),d(e,n),_=!0,v||(u=U(e,"click",r),v=!0)},p(o,f){t=o;const m={};f&1&&(m.value=t[22].name),l.$set(m);const N={};f&1&&(N.data=t[0].boards[t[24]]),s.$set(N)},i(o){_||(I(l.$$.fragment,o),I(s.$$.fragment,o),_=!0)},o(o){T(l.$$.fragment,o),T(s.$$.fragment,o),_=!1},d(o){o&&h(e),ne(l),ne(s),v=!1,u()}}}function ul(t){let e,l,a,i,s,n,_,v,u,r,o,f,m=t[2],N,w,P,ce,X,J,he,R,M,L,Pe,K,Se,Ae,Q,G,re,Ce,Re,S,be,Me,Z,fe,Oe,Xe,A,ge,Ye,ue,le,Be,Y,je=Object.keys(t[0].boards[t[1]].data[t[8]-1]).length,ke,de,qe,Ue;i=new Ne({props:{color:"#212121",size:"small",value:"Edit: "+t[0].boards[t[1]].name}}),_=new Nl({});let C=_l(t);P=new Ne({props:{color:"#212121",size:"small",value:"Pin Values"}}),le=new Ne({props:{color:"#212121",size:"xsmall",value:"Properties"}});let F=hl(t);function ze(p,V){return p[6]?Ml:Rl}let we=ze(t),O=we(t);return{c(){e=b("div"),l=b("div"),a=b("div"),ae(i.$$.fragment),s=y(),n=b("div"),ae(_.$$.fragment),v=y(),u=b("br"),r=y(),o=b("div"),f=b("div"),C.c(),N=y(),w=b("div"),ae(P.$$.fragment),ce=y(),X=b("div"),J=b("div"),he=H("Board:"),R=y(),M=b("select"),L=b("option"),Pe=H("Header"),K=b("option"),Se=H("IC"),Ae=y(),Q=b("div"),G=b("div"),re=b("div"),Ce=H("X:"),Re=y(),S=b("input"),Me=y(),Z=b("div"),fe=b("div"),Oe=H("Y:"),Xe=y(),A=b("input"),Ye=y(),ue=b("div"),ae(le.$$.fragment),Be=y(),Y=b("div"),F.c(),ke=y(),O.c(),this.h()},l(p){e=g(p,"DIV",{class:!0});var V=k(e);l=g(V,"DIV",{class:!0});var W=k(l);a=g(W,"DIV",{class:!0});var ye=k(a);se(i.$$.fragment,ye),s=E(ye),n=g(ye,"DIV",{class:!0});var Le=k(n);se(_.$$.fragment,Le),Le.forEach(h),ye.forEach(h),v=E(W),u=g(W,"BR",{}),r=E(W),o=g(W,"DIV",{class:!0});var Ee=k(o);f=g(Ee,"DIV",{class:!0});var Fe=k(f);C.l(Fe),Fe.forEach(h),N=E(Ee),w=g(Ee,"DIV",{class:!0});var B=k(w);se(P.$$.fragment,B),ce=E(B),X=g(B,"DIV",{class:!0});var Ie=k(X);J=g(Ie,"DIV",{class:!0});var We=k(J);he=j(We,"Board:"),We.forEach(h),R=E(Ie),M=g(Ie,"SELECT",{class:!0});var He=k(M);L=g(He,"OPTION",{default:!0});var Je=k(L);Pe=j(Je,"Header"),Je.forEach(h),K=g(He,"OPTION",{});var Ke=k(K);Se=j(Ke,"IC"),Ke.forEach(h),He.forEach(h),Ie.forEach(h),Ae=E(B),Q=g(B,"DIV",{class:!0});var Ve=k(Q);G=g(Ve,"DIV",{class:!0});var De=k(G);re=g(De,"DIV",{class:!0});var Qe=k(re);Ce=j(Qe,"X:"),Qe.forEach(h),Re=E(De),S=g(De,"INPUT",{type:!0,max:!0,min:!0,class:!0}),De.forEach(h),Me=E(Ve),Z=g(Ve,"DIV",{class:!0});var Te=k(Z);fe=g(Te,"DIV",{class:!0});var Ge=k(fe);Oe=j(Ge,"Y:"),Ge.forEach(h),Xe=E(Te),A=g(Te,"INPUT",{type:!0,max:!0,min:!0,class:!0}),Te.forEach(h),Ve.forEach(h),Ye=E(B),ue=g(B,"DIV",{class:!0});var Ze=k(ue);se(le.$$.fragment,Ze),Ze.forEach(h),Be=E(B),Y=g(B,"DIV",{class:!0});var $e=k(Y);F.l($e),ke=E($e),O.l($e),$e.forEach(h),B.forEach(h),Ee.forEach(h),W.forEach(h),V.forEach(h),this.h()},h(){c(n,"class","close svelte-1me0i4o"),c(a,"class","row svelte-1me0i4o"),c(f,"class","canvasSmall svelte-1me0i4o"),c(J,"class","label svelte-1me0i4o"),L.__value="header",L.value=L.__value,c(L,"default",""),K.__value="ic",K.value=K.__value,c(M,"class","svelte-1me0i4o"),t[5]===void 0&&Dl(()=>t[13].call(M)),c(X,"class","row inputRow svelte-1me0i4o"),c(re,"class","label svelte-1me0i4o"),c(S,"type","number"),c(S,"max",be=t[0].boards[t[1]].width),c(S,"min","1"),c(S,"class","svelte-1me0i4o"),c(G,"class","row inputRow svelte-1me0i4o"),c(fe,"class","label svelte-1me0i4o"),c(A,"type","number"),c(A,"max",ge=t[0].boards[t[1]].height),c(A,"min","1"),c(A,"class","svelte-1me0i4o"),c(Z,"class","row inputRow svelte-1me0i4o"),c(Q,"class","half svelte-1me0i4o"),c(ue,"class","marginTop svelte-1me0i4o"),c(Y,"class","props svelte-1me0i4o"),c(w,"class","edit svelte-1me0i4o"),c(o,"class","row svelte-1me0i4o"),c(l,"class","model_content svelte-1me0i4o"),c(e,"class","model svelte-1me0i4o")},m(p,V){$(p,e,V),d(e,l),d(l,a),ie(i,a,null),d(a,s),d(a,n),ie(_,n,null),d(l,v),d(l,u),d(l,r),d(l,o),d(o,f),C.m(f,null),d(o,N),d(o,w),ie(P,w,null),d(w,ce),d(w,X),d(X,J),d(J,he),d(X,R),d(X,M),d(M,L),d(L,Pe),d(M,K),d(K,Se),tl(M,t[5]),d(w,Ae),d(w,Q),d(Q,G),d(G,re),d(re,Ce),d(G,Re),d(G,S),z(S,t[2]),d(Q,Me),d(Q,Z),d(Z,fe),d(fe,Oe),d(Z,Xe),d(Z,A),z(A,t[3]),d(w,Ye),d(w,ue),ie(le,ue,null),d(w,Be),d(w,Y),F.m(Y,null),d(Y,ke),O.m(Y,null),de=!0,qe||(Ue=[U(n,"click",t[10]),U(M,"change",t[13]),U(S,"input",t[14]),U(A,"input",t[15])],qe=!0)},p(p,V){const W={};V&3&&(W.value="Edit: "+p[0].boards[p[1]].name),i.$set(W),V&4&&_e(m,m=p[2])?(me(),T(C,1,1,oe),pe(),C=_l(p),C.c(),I(C,1),C.m(f,null)):C.p(p,V),V&32&&tl(M,p[5]),(!de||V&3&&be!==(be=p[0].boards[p[1]].width))&&c(S,"max",be),V&4&&ve(S.value)!==p[2]&&z(S,p[2]),(!de||V&3&&ge!==(ge=p[0].boards[p[1]].height))&&c(A,"max",ge),V&8&&ve(A.value)!==p[3]&&z(A,p[3]),V&259&&_e(je,je=Object.keys(p[0].boards[p[1]].data[p[8]-1]).length)?(F.d(1),F=hl(p),F.c(),F.m(Y,ke)):F.p(p,V),we===(we=ze(p))&&O?O.p(p,V):(O.d(1),O=we(p),O&&(O.c(),O.m(Y,null)))},i(p){de||(I(i.$$.fragment,p),I(_.$$.fragment,p),I(C),I(P.$$.fragment,p),I(le.$$.fragment,p),de=!0)},o(p){T(i.$$.fragment,p),T(_.$$.fragment,p),T(C),T(P.$$.fragment,p),T(le.$$.fragment,p),de=!1},d(p){p&&h(e),ne(i),ne(_),C.d(p),ne(P),ne(le),F.d(p),O.d(),qe=!1,gl(Ue)}}}function dl(t){let e,l;return e=new kl({props:{data:t[0].boards[t[1]],pinX:t[2]-1,pinY:t[3]-1}}),{c(){ae(e.$$.fragment)},l(a){se(e.$$.fragment,a)},m(a,i){ie(e,a,i),l=!0},p(a,i){const s={};i&3&&(s.data=a[0].boards[a[1]]),i&4&&(s.pinX=a[2]-1),i&8&&(s.pinY=a[3]-1),e.$set(s)},i(a){l||(I(e.$$.fragment,a),l=!0)},o(a){T(e.$$.fragment,a),l=!1},d(a){ne(e,a)}}}function vl(t){let e=t[0].boards[t[1]],l,a,i=dl(t);return{c(){i.c(),l=ee()},l(s){i.l(s),l=ee()},m(s,n){i.m(s,n),$(s,l,n),a=!0},p(s,n){n&3&&_e(e,e=s[0].boards[s[1]])?(me(),T(i,1,1,oe),pe(),i=dl(s),i.c(),I(i,1),i.m(l.parentNode,l)):i.p(s,n)},i(s){a||(I(i),a=!0)},o(s){T(i),a=!1},d(s){s&&h(l),i.d(s)}}}function _l(t){let e=t[3],l,a,i=vl(t);return{c(){i.c(),l=ee()},l(s){i.l(s),l=ee()},m(s,n){i.m(s,n),$(s,l,n),a=!0},p(s,n){n&8&&_e(e,e=s[3])?(me(),T(i,1,1,oe),pe(),i=vl(s),i.c(),I(i,1),i.m(l.parentNode,l)):i.p(s,n)},i(s){a||(I(i),a=!0)},o(s){T(i),a=!1},d(s){s&&h(l),i.d(s)}}}function Al(t){let e,l,a;function i(){t[17].call(e,t[19])}return{c(){e=b("input"),this.h()},l(s){e=g(s,"INPUT",{type:!0,class:!0}),this.h()},h(){c(e,"type","number"),c(e,"class","svelte-1me0i4o")},m(s,n){$(s,e,n),z(e,t[0].boards[t[1]].data[t[8]-1][t[19]]),l||(a=U(e,"input",i),l=!0)},p(s,n){t=s,n&259&&ve(e.value)!==t[0].boards[t[1]].data[t[8]-1][t[19]]&&z(e,t[0].boards[t[1]].data[t[8]-1][t[19]])},d(s){s&&h(e),l=!1,a()}}}function Cl(t){let e,l,a;function i(){t[16].call(e,t[19])}return{c(){e=b("input"),this.h()},l(s){e=g(s,"INPUT",{type:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"class","svelte-1me0i4o")},m(s,n){$(s,e,n),z(e,t[0].boards[t[1]].data[t[8]-1][t[19]]),l||(a=U(e,"input",i),l=!0)},p(s,n){t=s,n&259&&e.value!==t[0].boards[t[1]].data[t[8]-1][t[19]]&&z(e,t[0].boards[t[1]].data[t[8]-1][t[19]])},d(s){s&&h(e),l=!1,a()}}}function cl(t){let e,l,a=t[19]+"",i,s,n,_;function v(o,f){if(typeof o[0].boards[o[1]].data[o[8]-1][o[19]]=="string")return Cl;if(typeof o[0].boards[o[1]].data[o[8]-1][o[19]]=="number")return Al}let u=v(t),r=u&&u(t);return{c(){e=b("div"),l=b("div"),i=H(a),s=H(":"),n=y(),r&&r.c(),_=y(),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=k(e);l=g(f,"DIV",{class:!0});var m=k(l);i=j(m,a),s=j(m,":"),m.forEach(h),n=E(f),r&&r.l(f),_=E(f),f.forEach(h),this.h()},h(){c(l,"class","label svelte-1me0i4o"),c(e,"class","row inputRow svelte-1me0i4o")},m(o,f){$(o,e,f),d(e,l),d(l,i),d(l,s),d(e,n),r&&r.m(e,null),d(e,_)},p(o,f){f&259&&a!==(a=o[19]+"")&&Tl(i,a),u===(u=v(o))&&r?r.p(o,f):(r&&r.d(1),r=u&&u(o),r&&(r.c(),r.m(e,_)))},d(o){o&&h(e),r&&r.d()}}}function hl(t){let e,l=Object.keys(t[0].boards[t[1]].data[t[8]-1]),a=[];for(let i=0;i<l.length;i+=1)a[i]=cl(ol(t,l,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=ee()},l(i){for(let s=0;s<a.length;s+=1)a[s].l(i);e=ee()},m(i,s){for(let n=0;n<a.length;n+=1)a[n].m(i,s);$(i,e,s)},p(i,s){if(s&259){l=Object.keys(i[0].boards[i[1]].data[i[8]-1]);let n;for(n=0;n<l.length;n+=1){const _=ol(i,l,n);a[n]?a[n].p(_,s):(a[n]=cl(_),a[n].c(),a[n].m(e.parentNode,e))}for(;n<a.length;n+=1)a[n].d(1);a.length=l.length}},d(i){bl(a,i),i&&h(e)}}}function Rl(t){let e,l,a,i,s,n,_,v,u,r,o;return{c(){e=b("div"),l=b("div"),a=H("Name:"),i=y(),s=b("input"),n=y(),_=b("div"),v=b("div"),u=H("Add Property"),this.h()},l(f){e=g(f,"DIV",{class:!0});var m=k(e);l=g(m,"DIV",{class:!0});var N=k(l);a=j(N,"Name:"),N.forEach(h),i=E(m),s=g(m,"INPUT",{type:!0,class:!0}),m.forEach(h),n=E(f),_=g(f,"DIV",{class:!0});var w=k(_);v=g(w,"DIV",{class:!0});var P=k(v);u=j(P,"Add Property"),P.forEach(h),w.forEach(h),this.h()},h(){c(l,"class","label svelte-1me0i4o"),c(s,"type","text"),c(s,"class","svelte-1me0i4o"),c(e,"class","row inputRow svelte-1me0i4o"),c(v,"class","label full svelte-1me0i4o"),c(_,"class","row inputRow svelte-1me0i4o")},m(f,m){$(f,e,m),d(e,l),d(l,a),d(e,i),d(e,s),z(s,t[7]),$(f,n,m),$(f,_,m),d(_,v),d(v,u),r||(o=[U(s,"input",t[18]),U(v,"click",t[11])],r=!0)},p(f,m){m&128&&s.value!==f[7]&&z(s,f[7])},d(f){f&&h(e),f&&h(n),f&&h(_),r=!1,gl(o)}}}function Ml(t){let e,l,a,i,s;return{c(){e=b("div"),l=b("div"),a=H("Add Property"),this.h()},l(n){e=g(n,"DIV",{class:!0});var _=k(e);l=g(_,"DIV",{class:!0});var v=k(l);a=j(v,"Add Property"),v.forEach(h),_.forEach(h),this.h()},h(){c(l,"class","label full svelte-1me0i4o"),c(e,"class","row inputRow svelte-1me0i4o")},m(n,_){$(n,e,_),d(e,l),d(l,a),i||(s=U(l,"click",t[11]),i=!0)},p:oe,d(n){n&&h(e),i=!1,s()}}}function Ol(t){let e,l,a,i,s=t[0].boards,n=[];for(let u=0;u<s.length;u+=1)n[u]=fl(rl(t,s,u));const _=u=>T(n[u],1,1,()=>{n[u]=null});let v=t[4]&&ul(t);return{c(){e=b("div");for(let u=0;u<n.length;u+=1)n[u].c();l=y(),v&&v.c(),a=ee(),this.h()},l(u){e=g(u,"DIV",{class:!0});var r=k(e);for(let o=0;o<n.length;o+=1)n[o].l(r);r.forEach(h),l=E(u),v&&v.l(u),a=ee(),this.h()},h(){c(e,"class","items svelte-1me0i4o")},m(u,r){$(u,e,r);for(let o=0;o<n.length;o+=1)n[o].m(e,null);$(u,l,r),v&&v.m(u,r),$(u,a,r),i=!0},p(u,[r]){if(r&513){s=u[0].boards;let o;for(o=0;o<s.length;o+=1){const f=rl(u,s,o);n[o]?(n[o].p(f,r),I(n[o],1)):(n[o]=fl(f),n[o].c(),I(n[o],1),n[o].m(e,null))}for(me(),o=s.length;o<n.length;o+=1)_(o);pe()}u[4]?v?(v.p(u,r),r&16&&I(v,1)):(v=ul(u),v.c(),I(v,1),v.m(a.parentNode,a)):v&&(me(),T(v,1,1,()=>{v=null}),pe())},i(u){if(!i){for(let r=0;r<s.length;r+=1)I(n[r]);I(v),i=!0}},o(u){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)T(n[r]);T(v),i=!1},d(u){u&&h(e),bl(n,u),u&&h(l),v&&v.d(u),u&&h(a)}}}function Xl(t,e,l){let a,i=0,s=!1;function n(R){l(4,s=!0),l(1,i=R)}function _(){l(4,s=!1)}let v=1,u=1,r="header",o=!0,f="";function m(){o?l(6,o=!1):(l(0,x.boards[i].data[a-1][f]="",x),l(6,o=!0),l(7,f=""))}const N=R=>n(R);function w(){r=$l(this),l(5,r)}function P(){v=ve(this.value),l(2,v)}function ce(){u=ve(this.value),l(3,u)}function X(R){x.boards[i].data[a-1][R]=this.value,l(0,x)}function J(R){x.boards[i].data[a-1][R]=ve(this.value),l(0,x)}function he(){f=this.value,l(7,f)}return t.$$.update=()=>{t.$$.dirty&15&&l(8,a=u+x.boards[i].height*(v-1))},[x,i,v,u,s,r,o,f,a,n,_,m,N,w,P,ce,X,J,he]}class Hl extends pl{constructor(e){super(),ml(this,e,Xl,Ol,_e,{})}}export{Hl as default};
